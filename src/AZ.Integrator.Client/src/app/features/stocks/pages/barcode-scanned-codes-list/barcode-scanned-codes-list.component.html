<ul class="w-full mt-2 space-y-2 max-h-128 overflow-auto px-1">
  <ng-container *ngFor="let log of barcodeScannerLogs$ | async; let i = index">
    <li
      class="relative h-14 w-full flex items-center justify-between p-2 rounded-lg shadow border transition"
      [ngClass]="{
        'bg-green-100 border-green-500': log.changeQuantity > 0,
        'bg-red-100 border-red-500': log.changeQuantity < 0,
        'ring-2 ring-blue-400': i === 0,
        'horizontal-strike': log.status === StockLogStatus.Reverted,
      }">
      <div class="flex flex-col flex-1 min-w-0">
        <div class="flex items-center justify-between w-full">
          <span class="font-bold text-sm text-blue-800 text-base break-all">{{ log?.packageCode }}</span>
          <span
            class="ml-1 text-base font-bold"
            [ngClass]="{ 'text-green-600': log.changeQuantity > 0, 'text-red-600': log.changeQuantity < 0 }">
            {{ log.changeQuantity > 0 ? '+' : '' }}{{ log.changeQuantity }}
          </span>
        </div>
        <span class="text-xs text-gray-500 mt-0.5">{{ log.createdAt | date: 'dd.MM.yyyy, HH:mm:ss' }}</span>
      </div>

      <ng-container *ngIf="log.status === StockLogStatus.Active">
        <button
          mat-icon-button
          class="ml-1 flex-shrink-0 w-8 h-8 rounded-full bg-white/80 border border-gray-300 shadow flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200"
          (click)="confirmRevert(log)"
          aria-label="Cofnij zmianÄ™">
          <mat-icon class="text-lg">undo</mat-icon>
        </button>
      </ng-container>
    </li>
  </ng-container>
</ul>
