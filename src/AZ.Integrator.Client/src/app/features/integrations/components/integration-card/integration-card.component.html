<mat-card class="integration-card">
  <mat-card-header>
    <div class="integration-logo" mat-card-avatar>
      @if (logoUrl) {
        <img [src]="logoUrl" [alt]="displayName" class="logo-img" />
      } @else {
        <mat-icon>integration_instructions</mat-icon>
      }
    </div>
    <mat-card-title>{{ displayName }}</mat-card-title>
    <mat-card-subtitle>
      <span [class]="statusColor + ' font-semibold'">{{ statusLabel }}</span>
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <div class="integration-details">
      @for (detail of getIntegrationDetails(); track detail) {
        <p class="detail-item">{{ detail }}</p>
      }
      <p class="text-xs text-gray-500 mt-2">Utworzono: {{ createdAt | date: 'dd.MM.yyyy HH:mm' }}</p>
    </div>
  </mat-card-content>

  <mat-card-actions class="card-actions">
    <button mat-button color="primary" (click)="toggleStatus()" [matTooltip]="isEnabled ? 'Dezaktywuj' : 'Aktywuj'">
      <mat-icon>{{ isEnabled ? 'pause_circle' : 'play_circle' }}</mat-icon>
      {{ isEnabled ? 'Dezaktywuj' : 'Aktywuj' }}
    </button>
    <button mat-button color="warn" (click)="deleteIntegration()" matTooltip="Usuń integrację">
      <mat-icon>delete</mat-icon>
      Usuń
    </button>
  </mat-card-actions>
</mat-card>
